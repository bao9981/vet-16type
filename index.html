<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2685.3">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
  </style>
</head>
<body>
<p class="p1">&lt;!doctype html&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;html lang="zh-Hant"&gt;</p>
<p class="p1">&lt;head&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;meta charset="utf-8" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;meta name="viewport" content="width=device-width,initial-scale=1" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;title&gt;ç¸é†« 16 å‹äººæ ¼æ¸¬é©—&lt;/title&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;style&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>body { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", "Noto Sans TC", Arial, sans-serif; margin: 24px; line-height: 1.6; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.wrap { max-width: 980px; margin: 0 auto; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>h1 { margin: 0 0 8px; font-size: 26px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.hint { color: #555; margin-bottom: 16px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.grid { display: grid; grid-template-columns: 1fr; gap: 12px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.q { border: 1px solid #ddd; border-radius: 12px; padding: 14px 14px 10px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.q h3 { margin: 0 0 10px; font-size: 16px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.opt { display: flex; gap: 14px; flex-wrap: wrap; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>label { display: inline-flex; gap: 8px; align-items: center; cursor: pointer; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.small { font-size: 13px; color: #666; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.section { margin: 18px 0 10px; padding: 10px 12px; border-radius: 12px; background: #fafafa; border: 1px solid #eee; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.section-title { font-weight: 700; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.actions { display: flex; gap: 10px; margin-top: 18px; flex-wrap: wrap; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>button { padding: 10px 14px; border-radius: 12px; border: 1px solid #ccc; background: #fff; cursor: pointer; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>button.primary { border-color: #111; background: #111; color: #fff; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.warn { color: #b00020; margin-top: 10px; display:none; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.result { margin-top: 22px; padding: 16px; border: 1px solid #ddd; border-radius: 14px; background: #fafafa; display:none; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.mono { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.tag { display:inline-block; padding: 2px 10px; border: 1px solid #ddd; border-radius: 999px; margin-left: 8px; font-size: 12px; color:#444; background:#fff; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.type-title { font-size: 20px; font-weight: 800; margin: 6px 0 10px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>ul { margin: 8px 0 0 20px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.scores { display:grid; grid-template-columns: 1fr; gap: 10px; margin-top: 12px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.score-line { padding: 10px 12px; border-radius: 12px; border: 1px solid #e6e6e6; background:#fff; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.bar { height: 10px; background: #eee; border-radius: 999px; overflow: hidden; margin-top: 8px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.bar &gt; div { height: 100%; width: 50%; background: #bbb; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.two { display:grid; grid-template-columns: 1fr 1fr; gap: 10px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.result-actions { display:flex; gap:10px; flex-wrap:wrap; margin-top: 12px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.toast { position: fixed; left: 50%; bottom: 18px; transform: translateX(-50%); background:#111; color:#fff; padding:10px 12px; border-radius: 999px; font-size: 13px; opacity:0; pointer-events:none; transition: opacity .2s; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.toast.show { opacity:1; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>@media (max-width: 740px) { .two { grid-template-columns: 1fr; } }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;/style&gt;</p>
<p class="p1">&lt;/head&gt;</p>
<p class="p1">&lt;body&gt;</p>
<p class="p1">&lt;div class="wrap"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;h1&gt;ç¸é†« 16 å‹äººæ ¼æ¸¬é©— &lt;span class="tag"&gt;20 é¡Œï½œ4 æ§‹é¢ï½œäºŒé¸ä¸€&lt;/span&gt;&lt;/h1&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;div class="hint" id="topHint"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>ä½œç­”æ–¹å¼ï¼šæ¯é¡Œé¸ä¸€å€‹é¸é …ï¼›è©²é¸é …å°æ‡‰çš„å­—æ¯ +1ã€‚&lt;br/&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>çµæœåˆ¤æ–·ï¼šæ¯å€‹æ§‹é¢å…± 5 é¡Œï¼Œæ‰€ä»¥ä¸æœƒå¹³æ‰‹ï¼›åˆ†æ•¸è¼ƒé«˜è€…æˆç‚ºè©²æ§‹é¢å­—æ¯ï¼Œçµ„æˆ 4 å­—æ¯å¾Œå°æ‡‰åˆ° 16 å‹ã€‚</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;div id="quiz" class="grid"&gt;&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;div class="actions" id="mainActions"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;button class="primary" id="btnCalc"&gt;è¨ˆç®—çµæœ&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;button id="btnReset"&gt;é‡å¡«&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;div id="msg" class="warn"&gt;&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;div id="result" class="result"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div&gt;ä½ çš„å››å­—æ¯ï¼š&lt;span class="mono" id="code"&gt;&lt;/span&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div class="type-title" id="typeTitle"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div id="typeTrait"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div style="margin-top:10px;"&gt;&lt;b&gt;ä»£è¡¨å¥ï¼š&lt;/b&gt;&lt;span id="typeQuote"&gt;&lt;/span&gt;&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div class="result-actions"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;button id="btnCopyLink"&gt;è¤‡è£½åˆ†äº«é€£çµ&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;button class="primary" id="btnCopyCard"&gt;è¤‡è£½çµæœå¡&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;hr style="border:none;border-top:1px solid #e5e5e5;margin:16px 0;" /&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div style="font-weight:700;margin-bottom:8px;"&gt;å„æ§‹é¢åˆ†æ•¸ï¼ˆå«ç¿»ç›¤æç¤ºï¼‰&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div id="scores" class="scores"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;/div&gt;</p>
<p class="p1">&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;div id="toast" class="toast"&gt;å·²è¤‡è£½&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;script&gt;</p>
<p class="p1">/** =========================</p>
<p class="p1"><span class="Apple-converted-space">Â </span>*<span class="Apple-converted-space">Â  </span>è³‡æ–™å€ï¼šé¡Œç›®èˆ‡çµæœ</p>
<p class="p1"><span class="Apple-converted-space">Â </span>*<span class="Apple-converted-space">Â  </span>========================= */</p>
<p class="p2"><br></p>
<p class="p1">const dims = [</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>{ keyA: "B", keyB: "T", name: "ç¤¾äº¤èƒ½é‡ï¼ˆB / Tï¼‰", param: "bt" },</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>{ keyA: "P", keyB: "V", name: "å·¥ä½œé¢¨æ ¼ï¼ˆP / Vï¼‰", param: "pv" },</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>{ keyA: "C", keyB: "D", name: "æ±ºç­–æ¨¡å¼ï¼ˆC / Dï¼‰", param: "cd" },</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>{ keyA: "O", keyB: "F", name: "æ‡‰è®Šç¯€å¥ï¼ˆO / Fï¼‰", param: "of" },</p>
<p class="p1">];</p>
<p class="p2"><br></p>
<p class="p1">const questions = [</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>{ dimIndex: 0, text: "Q1ï½œå¿™åˆ°çˆ†ç‚¸çš„ä¸€å¤©çµæŸå¾Œï¼Œä½ æ¯”è¼ƒæƒ³ï¼š", aText: "è·ŸåŒäº‹ä¸€èµ·æŠ±æ€¨ï¼‹å–æš–ï¼ˆBï¼‰", bText: "ç«‹åˆ»é€²å…¥çœé›»æ¨¡å¼ï¼ˆTï¼‰", aKey:"B", bKey:"T" },</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>{ dimIndex: 0, text: "Q2ï½œä¼‘æ¯æ™‚é–“ä½ é€šå¸¸ï¼š", aText: "æ‰¾äººä¸€èµ·åƒé£¯èŠå¤©ï¼ˆBï¼‰", bText: "ä¸€å€‹äººæ»‘æ‰‹æ©Ÿæ›´èˆ’æœï¼ˆTï¼‰", aKey:"B", bKey:"T" },</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>{ dimIndex: 0, text: "Q3ï½œé‡åˆ°æ–°ä¾†çš„å¯¦ç¿’ç”Ÿæ™‚ä½ ï¼š", aText: "ç«‹åˆ»è®Šæˆç†±å¿ƒå‰è¼©ï¼ˆBï¼‰", bText: "é»˜é»˜è§€å¯Ÿå†æ±ºå®šè¦ä¸è¦èªªè©±ï¼ˆTï¼‰", aKey:"B", bKey:"T" },</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>{ dimIndex: 0, text: "Q4ï½œé–‹æœƒæ™‚ä½ æ¯”è¼ƒï¼š", aText: "æœƒå¿ä¸ä½æ’è©±è£œå……ï¼ˆBï¼‰", bText: "åªåœ¨å¿…è¦æ™‚ç™¼è¨€ï¼ˆTï¼‰", aKey:"B", bKey:"T" },</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>{ dimIndex: 0, text: "Q5ï½œåŒäº‹ç´„ä¸‹ç­èšé¤ä½ é€šå¸¸ï¼š", aText: "åªè¦ä¸æ˜¯å¤ªç´¯å°±å»ï¼ˆBï¼‰", bText: "å¿ƒè£¡å…ˆæƒ³ã€Œæˆ‘åªæƒ³è¶•å¿«å›å®¶...ã€ï¼ˆTï¼‰", aKey:"B", bKey:"T" },</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>{ dimIndex: 1, text: "Q6ï½œé¢å°ç—…ä¾‹æ™‚ä½ æ¯”è¼ƒåƒï¼š", aText: "SOP å°±æ˜¯æˆ‘çš„å®‰å…¨æ„Ÿï¼ˆPï¼‰", bText: "å…ˆé ç›´è¦ºå†æ…¢æ…¢é©—è­‰ï¼ˆVï¼‰", aKey:"P", bKey:"V" },</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>{ dimIndex: 1, text: "Q7ï½œå­¸æ–°é€²çš„å„€å™¨æ™‚ä½ ï¼š", aText: "ä¸€å®šè¦æœ‰æ“ä½œæ­¥é©Ÿè¡¨ï¼ˆPï¼‰", bText: "æ‘¸ä¸€æ‘¸å°±å¤§æ¦‚æ‡‚äº†ï¼ˆVï¼‰", aKey:"P", bKey:"V" },</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>{ dimIndex: 1, text: "Q8ï½œæ­£åœ¨æ‰“ç—…æ­·æ™‚ä½ ï¼š", aText: "æ ¼å¼ä¸€å®šè¦æ•´é½Šæ¼‚äº®ï¼ˆPï¼‰", bText: "é‡é»å¯«åˆ°å°±å¥½ï¼ˆVï¼‰", aKey:"P", bKey:"V" },</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>{ dimIndex: 1, text: "Q9ï½œé‡åˆ°è¤‡é›œç‹€æ³ä½ ï¼š", aText: "å…ˆç¿»ç´€éŒ„æˆ–æ˜¯ Paper æ‰¾ä¾æ“šï¼ˆPï¼‰", bText: "å…ˆæƒ³å¯èƒ½æ€§å†èªªï¼ˆVï¼‰", aKey:"P", bKey:"V" },</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>{ dimIndex: 1, text: "Q10ï½œä½ æ¯”è¼ƒæ“…é•·ï¼š", aText: "æŠŠä¾‹è¡Œå·¥ä½œåšå¾—å¾ˆç©©ï¼ˆPï¼‰", bText: "è™•ç†çªç™¼å¥‡æ€ªæ¡ˆä»¶ï¼ˆVï¼‰", aKey:"P", bKey:"V" },</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>{ dimIndex: 2, text: "Q11ï½œé‡åˆ°é†«ç™‚ç³¾ç´›æ™‚ä½ å…ˆæƒ³ï¼š", aText: "æ˜¯å¦æ˜¯å°ˆæ¥­çš„å•é¡Œï¼Œå°éŒ¯åœ¨å“ªï¼ˆCï¼‰", bText: "ä¸»äººç¾åœ¨çš„æƒ…ç·’å¾ˆç·Šç¹ƒï¼Œæˆ‘è¦æ€éº¼å®‰æ’«ä¸»äººï¼ˆDï¼‰", aKey:"C", bKey:"D" },</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>{ dimIndex: 2, text: "Q12ï½œåŒäº‹å‡ºåŒ…æ™‚ä½ æœƒï¼š", aText: "å…ˆè¬›é‡é»æ€éº¼ä¿®æ­£ï¼ˆCï¼‰", bText: "å…ˆèªªã€Œæ²’äº‹æ²’äº‹ã€ï¼ˆDï¼‰", aKey:"C", bKey:"D" },</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>{ dimIndex: 2, text: "Q13ï½œå®‰æ’«ä¸»äººä½ æ¯”è¼ƒåƒï¼š", aText: "èªªæ˜é¢¨éšªèˆ‡æ•¸æ“šï¼ˆCï¼‰", bText: "ç”¨èªæ°£è·Ÿæ…‹åº¦å®‰æ’«ï¼ˆDï¼‰", aKey:"C", bKey:"D" },</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>{ dimIndex: 2, text: "Q14ï½œåšæ±ºå®šæ™‚ä½ ï¼š", aText: "ç”¨è…¦è¢‹åˆ†æï¼ˆCï¼‰", bText: "ç”¨å¿ƒæ„Ÿè¦ºï¼ˆDï¼‰", aKey:"C", bKey:"D" },</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>{ dimIndex: 2, text: "Q15ï½œä½ æ›´åœ¨æ„ï¼š", aText: "æŠŠäº‹æƒ…åšå°ï¼ˆCï¼‰", bText: "ä¸è¦å‚·æ„Ÿæƒ…ï¼ˆDï¼‰", aKey:"C", bKey:"D" },</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>{ dimIndex: 3, text: "Q16ï½œç­è¡¨è¢«è‡¨æ™‚æ›´å‹•æ™‚ä½ ï¼š", aText: "å…§å¿ƒæœƒå°å´©æ½°ï¼ˆOï¼‰", bText: "è¦ºå¾—ã€Œå¥½å–” OKã€ï¼ˆFï¼‰", aKey:"O", bKey:"F" },</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>{ dimIndex: 3, text: "Q17ï½œæ¯å¤©å·¥ä½œä½ åå¥½ï¼š", aText: "å…ˆæ’å¥½é †åºå†åšï¼ˆOï¼‰", bText: "ä¾†ä¸Šç­ä¹‹å¾Œï¼Œæœ‰ä»€éº¼åšä»€éº¼ï¼ˆFï¼‰", aKey:"O", bKey:"F" },</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>{ dimIndex: 3, text: "Q18ï½œè£œç—…æ­·æ™‚ä½ é€šå¸¸ï¼š", aText: "ç•¶å¤©ä¸€å®šæ¸…å®Œï¼ˆOï¼‰", bText: "ç›¸ä¿¡æ˜å¤©çš„æˆ‘æœƒè™•ç†ï¼ˆFï¼‰", aKey:"O", bKey:"F" },</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>{ dimIndex: 3, text: "Q19ï½œé‡åˆ°è¶…æ™‚æ›è™Ÿçš„ä½ ï¼š", aText: "å¿ƒè£¡ OS å¾ˆå¤šï¼ˆOï¼‰", bText: "ç›´æ¥æ¥å°±å°äº†ï¼ˆFï¼‰", aKey:"O", bKey:"F" },</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>{ dimIndex: 3, text: "Q20ï½œè‡¨æ™‚æœ‰åŒäº‹è«‹å‡éœ€è¦æ”¯æ´æ™‚ä½ ï¼š", aText: "æœƒå¸Œæœ›æå‰çŸ¥é“èˆ‡å®‰æ’ï¼ˆOï¼‰", bText: "ç¾å ´éœ€è¦å°±ç›´æ¥ä¸Šï¼Œæœ‰éŒ¢ä¸è³ºï¼Œç‹å…«è›‹ï¼ˆFï¼‰", aKey:"O", bKey:"F" },</p>
<p class="p1">];</p>
<p class="p2"><br></p>
<p class="p1">const typeMap = {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>"BPCO": { title: "ğŸ¶ã€å¾·åœ‹ç‰§ç¾ŠçŠ¬å‹ç¸é†«ã€‘", trait: ["ç´€å¾‹æ”¯æŸ±å‹","å¤–å‘å¯é ","é‡æµç¨‹ã€è¬›æ•ˆç‡","åœ˜éšŠæ ¸å¿ƒäººç‰©"], quote: "ã€Œäº¤çµ¦æˆ‘ï¼Œæˆ‘è™•ç†ã€‚ã€" },</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>"BPCF": { title: "ğŸ•ã€ç±³æ ¼é­¯å‹ç¸é†«ã€‘", trait: ["æ´»åŠ›åŸ·è¡Œè€…","ç†±å¿ƒåˆå‹™å¯¦","åšäº‹æœ‰æ•ˆç‡"], quote: "ã€Œé‚Šåšé‚Šèª¿æ•´ï¼ã€" },</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>"BPDO": { title: "ğŸ•ã€é»ƒé‡‘çµçŠ¬å‹ç¸é†«ã€‘", trait: ["æš–å¿ƒè¡Œå‹•æ´¾","ç†±æƒ…åˆè² è²¬","ç—…ä¸»æœ€å®‰å¿ƒ"], quote: "ã€Œæˆ‘æ‡‚ä½ ï¼Œæˆ‘ä¾†å¹«å¿™ã€‚ã€" },</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>"BPDF": { title: "ğŸ•ã€æŸ¯åŸºå‹ç¸é†«ã€‘", trait: ["è¦ªåˆ‡å¯¦å‹™å‹","å¯æ„›åˆå¥½ç›¸è™•","åšäº‹æ¥åœ°æ°£"], quote: "ã€Œæ²’äº‹çš„ï½æ…¢æ…¢ä¾†ã€‚ã€" },</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>"BVCO": { title: "ğŸ±ã€å­ŸåŠ æ‹‰è²“å‹ç¸é†«ã€‘", trait: ["ç­–ç•¥é ˜å°å‹","ç›´è¦ºå¼·","å–„æ–¼è¦åŠƒ"], quote: "ã€Œè®“æˆ‘æƒ³ä¸€ä¸‹å…¨å±€ã€‚ã€" },</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>"BVCF": { title: "ğŸ±ã€è±¹è²“å‹ç¸é†«ã€‘", trait: ["æ©Ÿå‹•æ•‘ç«éšŠ","éˆæ´»åˆç†æ€§"], quote: "ã€Œçªç™¼ï¼Ÿæˆ‘OKã€‚ã€" },</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>"BVDO": { title: "ğŸ¶ã€é‚Šå¢ƒç‰§ç¾ŠçŠ¬å‹ã€‘", trait: ["ç†±è¡€é ˜éšŠå‹","æœ‰æƒ³æ³•åˆè²¼å¿ƒ"], quote: "ã€Œæˆ‘å€‘ä¸€èµ·æå®šï¼ã€" },</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>"BVDF": { title: "ğŸ¶ã€æŸ´çŠ¬å‹ç¸é†«ã€‘", trait: ["æ°£æ°›ç‹è€…","åœ˜éšŠé–‹å¿ƒæœ"], quote: "ã€Œæˆ‘ä¾†ï¼Œæˆ‘ä¾†ï¼ã€" },</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>"TPCO": { title: "ğŸ±ã€è‹±åœ‹çŸ­æ¯›è²“å‹ã€‘", trait: ["å†·éœå°ˆæ¥­æ´¾","ç©©å®šå¯é "], quote: "ã€Œå…ˆæŒ‰ SOP èµ°ã€‚ã€" },</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>"TPCF": { title: "ğŸ±ã€ä¿„ç¾…æ–¯è—è²“å‹ã€‘", trait: ["ä½èª¿æ•ˆç‡å‹","å®‰éœä½†å¼·"], quote: "ã€Œé»˜é»˜æŠŠäº‹åšå¥½ã€‚ã€" },</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>"TPDO": { title: "ğŸ¶ã€æ³•é¬¥å‹ç¸é†«ã€‘", trait: ["æº«å’Œå¯¦å¹¹æ´¾"], quote: "ã€Œä¸€æ­¥ä¸€æ­¥ä¾†ã€‚ã€" },</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>"TPDF": { title: "ğŸ±ã€å¸ƒå¶è²“å‹ç¸é†«ã€‘", trait: ["ä½›ç³»æš–å¿ƒå‹"], quote: "ã€Œå¤§å®¶éƒ½è¾›è‹¦äº†ã€‚ã€" },</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>"TVCO": { title: "ğŸ±ã€æŒªå¨æ£®æ—è²“å‹ã€‘", trait: ["åˆ†æç­–ç•¥å‹"], quote: "ã€Œæˆ‘å…ˆç ”ç©¶ä¸€ä¸‹ã€‚ã€" },</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>"TVCF": { title: "ğŸ±ã€æš¹ç¾…è²“å‹ã€‘", trait: ["å†·éœå½ˆæ€§å‹"], quote: "ã€Œéš¨æ©Ÿæ‡‰è®Šã€‚ã€" },</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>"TVDO": { title: "ğŸ¶ã€æ‹‰å¸ƒæ‹‰å¤šå‹ã€‘", trait: ["å…§æ–‚é ˜å°è€…"], quote: "ã€Œç©©ç©©åœ°åšå°±å¥½ã€‚ã€" },</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>"TVDF": { title: "ğŸ¶ã€è–©æ‘©è€¶å‹ã€‘", trait: ["æº«æŸ”æ™ºè€…å‹"], quote: "ã€Œæ²’äº‹ï¼Œæˆ‘é™ªä½ ã€‚ã€" },</p>
<p class="p1">};</p>
<p class="p2"><br></p>
<p class="p1">/** =========================</p>
<p class="p1"><span class="Apple-converted-space">Â </span>*<span class="Apple-converted-space">Â  </span>é˜²äº‚æ”¹ï¼šsigï¼ˆç”¨ WebCrypto SHA-256ï¼‰</p>
<p class="p1"><span class="Apple-converted-space">Â </span>*<span class="Apple-converted-space">Â  </span>========================= */</p>
<p class="p2"><br></p>
<p class="p1">// ä½ å¯ä»¥æ”¹é€™å€‹ SALTï¼ˆåƒå¯†ç¢¼ä¸€æ¨£ï¼‰ï¼Œåˆ¥äººå°±æ›´é›£ã€Œç…§æŠ„ç®—ç°½åã€</p>
<p class="p1">const SIG_SALT = "vet-16type-v1::change-me";</p>
<p class="p2"><br></p>
<p class="p1">function canonicalString(code, paramsObj) {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>// å›ºå®šé †åºçµ„å­—ä¸²ï¼Œé¿å…åƒæ•¸é †åºä¸åŒå°è‡´ç°½åä¸åŒ</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>return `r=${code}&amp;bt=${paramsObj.bt}&amp;pv=${paramsObj.pv}&amp;cd=${paramsObj.cd}&amp;of=${paramsObj.of}&amp;salt=${SIG_SALT}`;</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">async function sha256Hex(str) {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const enc = new TextEncoder().encode(str);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const buf = await crypto.subtle.digest("SHA-256", enc);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>return Array.from(new Uint8Array(buf)).map(b =&gt; b.toString(16).padStart(2, "0")).join("");</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">async function makeSig(code, pairs) {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const canon = canonicalString(code, pairs);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const hex = await sha256Hex(canon);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>// å–çŸ­ä¸€é»å°±å¥½ï¼ˆä»è¶³å¤ é˜²æ‰‹æ”¹ï¼‰ï¼Œ16 å€‹ hex = 64bits</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>return hex.slice(0, 16);</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">/** =========================</p>
<p class="p1"><span class="Apple-converted-space">Â </span>*<span class="Apple-converted-space">Â  </span>å·¥å…·</p>
<p class="p1"><span class="Apple-converted-space">Â </span>*<span class="Apple-converted-space">Â  </span>========================= */</p>
<p class="p2"><br></p>
<p class="p1">function toast(text) {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const t = document.getElementById("toast");</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>t.textContent = text;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>t.classList.add("show");</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>setTimeout(() =&gt; t.classList.remove("show"), 1200);</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">async function copyText(text) {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>try {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>await navigator.clipboard.writeText(text);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>toast("å·²è¤‡è£½ âœ…");</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>} catch (e) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const ta = document.createElement("textarea");</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>ta.value = text;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>document.body.appendChild(ta);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>ta.select();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>document.execCommand("copy");</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>document.body.removeChild(ta);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>toast("å·²è¤‡è£½ âœ…");</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">function flipHint(aKey, aScore, bKey, bScore) {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const diff = Math.abs(aScore - bScore);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const need = Math.floor(diff / 2) + 1;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const leader = aScore &gt; bScore ? aKey : bKey;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>return `ç›®å‰ ${leader} é ˜å…ˆï½œå·® ${need} é¡Œç¿»ç›¤`;</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">function encodePair(a, b) { return `${a}-${b}`; }</p>
<p class="p1">function decodePair(str) {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (!/^\d-\d$/.test(str)) return null;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const [a, b] = str.split("-").map(x =&gt; parseInt(x, 10));</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if ([a,b].some(n =&gt; isNaN(n) || n &lt; 0 || n &gt; 5)) return null;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (a + b !== 5) return null;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (a === b) return null;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>return { a, b };</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">/** =========================</p>
<p class="p1"><span class="Apple-converted-space">Â </span>*<span class="Apple-converted-space">Â  </span>UI Render</p>
<p class="p1"><span class="Apple-converted-space">Â </span>*<span class="Apple-converted-space">Â  </span>========================= */</p>
<p class="p2"><br></p>
<p class="p1">function renderQuiz() {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const root = document.getElementById("quiz");</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>root.innerHTML = "";</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>dims.forEach((d, dimIndex) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const sec = document.createElement("div");</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>sec.className = "section";</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>sec.innerHTML = `&lt;div class="section-title"&gt;ğŸ§© ${d.name}&lt;/div&gt;&lt;div class="small"&gt;ï¼ˆæ­¤æ§‹é¢ï¼š${d.keyA} vs ${d.keyB}ï¼Œå…± 5 é¡Œï¼‰&lt;/div&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>root.appendChild(sec);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>questions</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>.map((q, idx) =&gt; ({ q, idx }))</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>.filter(x =&gt; x.q.dimIndex === dimIndex)</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>.forEach(({ q, idx }) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const qId = `q${idx}`;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const div = document.createElement("div");</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>div.className = "q";</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>div.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;h3&gt;${q.text}&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;div class="opt"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;label&gt;&lt;input type="radio" name="${qId}" value="A" /&gt; A. ${q.aText}&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;label&gt;&lt;input type="radio" name="${qId}" value="B" /&gt; B. ${q.bText}&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;div class="small"&gt;é¸ A â†’ ${q.aKey} +1 ï½œ é¸ B â†’ ${q.bKey} +1&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>`;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>root.appendChild(div);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>});</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">function getAnswers() {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>return questions.map((_, i) =&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>document.querySelector(`input[name="q${i}"]:checked`)?.value || null</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>);</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">/** =========================</p>
<p class="p1"><span class="Apple-converted-space">Â </span>*<span class="Apple-converted-space">Â  </span>è¨ˆç®— / é¡¯ç¤º / åˆ†äº«</p>
<p class="p1"><span class="Apple-converted-space">Â </span>*<span class="Apple-converted-space">Â  </span>========================= */</p>
<p class="p2"><br></p>
<p class="p1">function computeFromAnswers(answers) {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const score = { B:0, T:0, P:0, V:0, C:0, D:0, O:0, F:0 };</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>answers.forEach((ans, i) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const q = questions[i];</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const key = (ans === "A") ? q.aKey : q.bKey;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>score[key] += 1;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const letters = dims.map(d =&gt; (score[d.keyA] &gt; score[d.keyB]) ? d.keyA : d.keyB);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const code = letters.join("");</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const pairs = {};</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>dims.forEach(d =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>pairs[d.param] = encodePair(score[d.keyA], score[d.keyB]);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>return { score, code, pairs };</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">async function setShareParamsWithSig({code, pairs}) {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const sig = await makeSig(code, pairs);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const url = new URL(window.location.href);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>url.searchParams.set("r", code);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>dims.forEach(d =&gt; url.searchParams.set(d.param, pairs[d.param]));</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>url.searchParams.set("sig", sig);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>window.history.replaceState({}, "", url.toString());</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">function renderResult({score, code}) {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const info = typeMap[code] || { title: "æœªå®šç¾©çµæœ", trait: ["è«‹è£œä¸Š typeMap å°ç…§"], quote: "" };</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>document.getElementById("code").textContent = code;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>document.getElementById("typeTitle").textContent = info.title;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const traitHTML = Array.isArray(info.trait)</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>? `&lt;ul&gt;${info.trait.map(t =&gt; `&lt;li&gt;${t}&lt;/li&gt;`).join("")}&lt;/ul&gt;`</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>: `&lt;div&gt;${info.trait}&lt;/div&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>document.getElementById("typeTrait").innerHTML = traitHTML;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>document.getElementById("typeQuote").textContent = info.quote || "";</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const scoresBox = document.getElementById("scores");</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>scoresBox.innerHTML = "";</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>dims.forEach(d =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const a = score[d.keyA];</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const b = score[d.keyB];</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const winner = a &gt; b ? d.keyA : d.keyB;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const card = document.createElement("div");</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>card.className = "score-line";</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>card.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div style="font-weight:700;"&gt;${d.name}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="two"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div&gt;${d.keyA}ï¼š&lt;span class="mono"&gt;${a}&lt;/span&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div&gt;${d.keyB}ï¼š&lt;span class="mono"&gt;${b}&lt;/span&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="small"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>çµæœï¼š&lt;b&gt;${winner}&lt;/b&gt; ï½œ &lt;span class="mono"&gt;${d.keyA} ${a} / ${d.keyB} ${b}&lt;/span&gt; ï½œ ${flipHint(d.keyA, a, d.keyB, b)}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="bar" title="${d.keyA} vs ${d.keyB}"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div style="width:${(a/5)*100}%"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="small"&gt;é•·æ¢ç‚º ${d.keyA} ä½”æ¯”ï¼ˆ0~5ï¼‰&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>`;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>scoresBox.appendChild(card);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>document.getElementById("result").style.display = "block";</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">function buildResultCardText({score, code}) {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const info = typeMap[code] || { title: "æœªå®šç¾©çµæœ", trait: [], quote: "" };</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const url = window.location.href;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const dimLines = dims.map(d =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const a = score[d.keyA], b = score[d.keyB];</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const winner = a &gt; b ? d.keyA : d.keyB;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>return `- ${d.name}ï¼š${d.keyA} ${a} / ${d.keyB} ${b} â†’ ${winner}ï¼ˆ${flipHint(d.keyA, a, d.keyB, b)}ï¼‰`;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}).join("\n");</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const traits = Array.isArray(info.trait) &amp;&amp; info.trait.length</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>? info.trait.map(t =&gt; `- ${t}`).join("\n")</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>: "";</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>return [</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>`ã€ç¸é†« 16 å‹äººæ ¼æ¸¬é©—çµæœã€‘`,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>`å››å­—æ¯ï¼š${code}`,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>`${info.title}`,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>traits ? `\nç‰¹è³ªï¼š\n${traits}` : "",</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>info.quote ? `\nä»£è¡¨å¥ï¼š${info.quote}` : "",</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>`\næ§‹é¢åˆ†æ•¸ï¼š\n${dimLines}`,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>`\nåˆ†äº«é€£çµï¼š${url}`</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>].filter(Boolean).join("\n");</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">async function calcFromUI() {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const msg = document.getElementById("msg");</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>msg.style.display = "none";</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>msg.textContent = "";</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const answers = getAnswers();</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const missing = answers.map((v, i) =&gt; v ? null : i + 1).filter(Boolean);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (missing.length) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>msg.style.display = "block";</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>msg.textContent = `ä½ é‚„æœ‰ ${missing.length} é¡Œæœªä½œç­”ï¼šç¬¬ ${missing.join(", ")} é¡Œ`;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>return;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const computed = computeFromAnswers(answers);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>await setShareParamsWithSig({ code: computed.code, pairs: computed.pairs });</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>renderResult({ score: computed.score, code: computed.code });</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>document.getElementById("result").scrollIntoView({ behavior: "smooth" });</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">function resetAll() {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>document.querySelectorAll('input[type="radio"]').forEach(el =&gt; el.checked = false);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>document.getElementById("result").style.display = "none";</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const msg = document.getElementById("msg");</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>msg.style.display = "none";</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>msg.textContent = "";</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const url = new URL(window.location.href);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>["r","sig", ...dims.map(d =&gt; d.param)].forEach(k =&gt; url.searchParams.delete(k));</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>window.history.replaceState({}, "", url.toString());</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>document.getElementById("mainActions").style.display = "";</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>document.getElementById("topHint").innerHTML =</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>`ä½œç­”æ–¹å¼ï¼šæ¯é¡Œé¸ä¸€å€‹é¸é …ï¼›è©²é¸é …å°æ‡‰çš„å­—æ¯ +1ã€‚&lt;br/&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â Â  Â  </span>çµæœåˆ¤æ–·ï¼šæ¯å€‹æ§‹é¢å…± 5 é¡Œï¼Œæ‰€ä»¥ä¸æœƒå¹³æ‰‹ï¼›åˆ†æ•¸è¼ƒé«˜è€…æˆç‚ºè©²æ§‹é¢å­—æ¯ï¼Œçµ„æˆ 4 å­—æ¯å¾Œå°æ‡‰åˆ° 16 å‹ã€‚`;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>window.scrollTo({ top: 0, behavior: "smooth" });</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">/** =========================</p>
<p class="p1"><span class="Apple-converted-space">Â </span>*<span class="Apple-converted-space">Â  </span>è®€å–åˆ†äº«é€£çµï¼ˆå« sigï¼‰</p>
<p class="p1"><span class="Apple-converted-space">Â </span>*<span class="Apple-converted-space">Â  </span>========================= */</p>
<p class="p2"><br></p>
<p class="p1">async function showResultFromParamsIfAny() {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const url = new URL(window.location.href);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const r = (url.searchParams.get("r") || "").toUpperCase().trim();</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (!r) return;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const codeOk = /^[BT][PV][CD][OF]$/.test(r) &amp;&amp; typeMap[r];</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (!codeOk) return;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const sig = (url.searchParams.get("sig") || "").trim();</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (!sig) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const msg = document.getElementById("msg");</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>msg.style.display = "block";</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>msg.textContent = "æ­¤åˆ†äº«é€£çµç¼ºå°‘é©—è­‰ç¢¼ï¼ˆsigï¼‰ï¼Œå¯èƒ½å·²è¢«ä¿®æ”¹æˆ–ç‰ˆæœ¬éèˆŠã€‚";</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>return;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>// è§£æå››çµ„åˆ†æ•¸</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const pairs = {};</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const score = { B:0, T:0, P:0, V:0, C:0, D:0, O:0, F:0 };</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>for (const d of dims) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const raw = (url.searchParams.get(d.param) || "").trim();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const pair = decodePair(raw);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (!pair) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const msg = document.getElementById("msg");</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>msg.style.display = "block";</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>msg.textContent = "æ­¤åˆ†äº«é€£çµçš„åˆ†æ•¸åƒæ•¸ä¸å®Œæ•´æˆ–ä¸åˆæ³•ï¼ˆéœ€ç‚º 5 é¡Œåˆ¶ï¼Œä¾‹å¦‚ 4-1ï¼‰ã€‚";</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>return;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>pairs[d.param] = raw;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>score[d.keyA] = pair.a;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>score[d.keyB] = pair.b;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// åˆ†æ•¸å¿…é ˆèˆ‡ r çš„å‹è² ä¸€è‡´</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const winner = (pair.a &gt; pair.b) ? d.keyA : d.keyB;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const expected = r[dims.indexOf(d)];</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (winner !== expected) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const msg = document.getElementById("msg");</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>msg.style.display = "block";</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>msg.textContent = "åˆ†äº«é€£çµçš„ r èˆ‡åˆ†æ•¸å‹è² ä¸ä¸€è‡´ï¼Œå¯èƒ½è¢«æ‰‹å‹•ä¿®æ”¹ã€‚";</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>return;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>// é©—è­‰ sig</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const expectedSig = await makeSig(r, pairs);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (expectedSig !== sig) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const msg = document.getElementById("msg");</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>msg.style.display = "block";</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>msg.textContent = "æ­¤åˆ†äº«é€£çµå·²è¢«ä¿®æ”¹ï¼ˆsig é©—è­‰å¤±æ•—ï¼‰ã€‚è«‹é‡æ–°ç”¢ç”Ÿåˆ†äº«é€£çµã€‚";</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>return;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>// é€²å…¥åˆ†äº«å±•ç¤ºæ¨¡å¼</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>document.getElementById("topHint").innerHTML =</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>`ä½ æ­£åœ¨æŸ¥çœ‹åˆ†äº«çµæœï¼š&lt;span class="mono"&gt;${r}&lt;/span&gt;ï¼ˆæ­¤é€£çµåŒ…å«çœŸå¯¦åˆ†æ•¸ï¼Œä¸”å·²é€šéé©—è­‰ï¼‰`;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>document.getElementById("mainActions").style.display = "none";</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>renderResult({ score, code: r });</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>document.getElementById("result").scrollIntoView({ behavior: "smooth" });</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">/** =========================</p>
<p class="p1"><span class="Apple-converted-space">Â </span>*<span class="Apple-converted-space">Â  </span>åˆå§‹åŒ–</p>
<p class="p1"><span class="Apple-converted-space">Â </span>*<span class="Apple-converted-space">Â  </span>========================= */</p>
<p class="p2"><br></p>
<p class="p1">renderQuiz();</p>
<p class="p1">showResultFromParamsIfAny();</p>
<p class="p2"><br></p>
<p class="p1">document.getElementById("btnCalc").addEventListener("click", calcFromUI);</p>
<p class="p1">document.getElementById("btnReset").addEventListener("click", resetAll);</p>
<p class="p2"><br></p>
<p class="p1">document.getElementById("btnCopyLink").addEventListener("click", async () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const url = new URL(window.location.href);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const hasR = url.searchParams.get("r");</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const hasSig = url.searchParams.get("sig");</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (!hasR || !hasSig) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const msg = document.getElementById("msg");</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>msg.style.display = "block";</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>msg.textContent = "è«‹å…ˆå®Œæˆ 20 é¡Œä¸¦æŒ‰ã€Œè¨ˆç®—çµæœã€ï¼Œæ‰æœƒç”¢ç”Ÿå¯åˆ†äº«çš„é€£çµï¼ˆå« sigï¼‰ã€‚";</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>return;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>copyText(window.location.href);</p>
<p class="p1">});</p>
<p class="p2"><br></p>
<p class="p1">document.getElementById("btnCopyCard").addEventListener("click", async () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const url = new URL(window.location.href);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const r = (url.searchParams.get("r") || "").toUpperCase().trim();</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const sig = (url.searchParams.get("sig") || "").trim();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>// è‹¥ URL æœ‰å®Œæ•´åƒæ•¸ï¼Œå…ˆé©— sig å†è¤‡è£½ï¼ˆé¿å…è¤‡è£½åˆ°è¢«æ”¹éçš„é€£çµï¼‰</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (r &amp;&amp; typeMap[r] &amp;&amp; sig) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const pairs = {};</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const score = { B:0, T:0, P:0, V:0, C:0, D:0, O:0, F:0 };</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>for (const d of dims) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const raw = (url.searchParams.get(d.param) || "").trim();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const pair = decodePair(raw);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (!pair) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const msg = document.getElementById("msg");</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>msg.style.display = "block";</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>msg.textContent = "ç›®å‰ç¶²å€ç¼ºå°‘å®Œæ•´åˆ†æ•¸åƒæ•¸ï¼Œè«‹é‡æ–°è¨ˆç®—çµæœå¾Œå†è¤‡è£½çµæœå¡ã€‚";</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>return;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>pairs[d.param] = raw;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>score[d.keyA] = pair.a;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>score[d.keyB] = pair.b;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const expectedSig = await makeSig(r, pairs);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (expectedSig !== sig) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const msg = document.getElementById("msg");</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>msg.style.display = "block";</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>msg.textContent = "ç›®å‰ç¶²å€çš„ sig é©—è­‰å¤±æ•—ï¼ˆå¯èƒ½è¢«æ”¹éï¼‰ã€‚è«‹é‡æ–°è¨ˆç®—çµæœç”¢ç”Ÿæ–°é€£çµã€‚";</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>return;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>copyText(buildResultCardText({ score, code: r }));</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>return;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>// å¦å‰‡ï¼šä½¿ç”¨ä½œç­”é‡ç®—ï¼ˆä¹Ÿæœƒå¯«å…¥ URL + sigï¼‰</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const answers = getAnswers();</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (answers.some(v =&gt; !v)) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const msg = document.getElementById("msg");</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>msg.style.display = "block";</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>msg.textContent = "è¦è¤‡è£½çµæœå¡å‰ï¼Œè«‹å…ˆå®Œæˆ 20 é¡Œä¸¦è¨ˆç®—çµæœã€‚";</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>return;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const computed = computeFromAnswers(answers);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>await setShareParamsWithSig({ code: computed.code, pairs: computed.pairs });</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>renderResult({ score: computed.score, code: computed.code });</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>copyText(buildResultCardText({ score: computed.score, code: computed.code }));</p>
<p class="p1">});</p>
<p class="p1">&lt;/script&gt;</p>
<p class="p1">&lt;/body&gt;</p>
<p class="p1">&lt;/html&gt;</p>
</body>
</html>
